@page
@model AdminApp.Pages.Admin.IndexModel
@{
  ViewData["Title"] = "Trang Quản Trị";
 Layout = "~/Pages/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <h2 class="mb-4">Dashboard Quản Trị Hệ Thống</h2>

    <!-- Statistics Cards -->
    <div class="row mb-4">
        <div class="col-md-3">
   <div class="card text-white bg-primary mb-3">
        <div class="card-body">
   <div class="d-flex justify-content-between align-items-center">
 <div>
    <h6 class="card-title">Tổng Câu Hỏi</h6>
           <h3 class="mb-0">@Model.TotalQuestions</h3>
     </div>
      <div>
      <i class="fas fa-question-circle fa-3x opacity-50"></i>
      </div>
        </div>
    </div>
        <div class="card-footer">
      <a asp-page="/Admin/Questions/Index" class="text-white text-decoration-none">
   Xem chi tiết <i class="fas fa-arrow-right"></i>
       </a>
 </div>
 </div>
        </div>

        <div class="col-md-3">
       <div class="card text-white bg-success mb-3">
         <div class="card-body">
   <div class="d-flex justify-content-between align-items-center">
       <div>
    <h6 class="card-title">Biển Báo</h6>
        <h3 class="mb-0">@Model.TotalTrafficSigns</h3>
      </div>
      <div>
      <i class="fas fa-traffic-light fa-3x opacity-50"></i>
     </div>
      </div>
       </div>
     <div class="card-footer">
        <a asp-page="/Admin/TrafficSigns/Index" class="text-white text-decoration-none">
      Xem chi tiết <i class="fas fa-arrow-right"></i>
 </a>
   </div>
        </div>
    </div>

 <div class="col-md-3">
<div class="card text-white bg-info mb-3">
         <div class="card-body">
      <div class="d-flex justify-content-between align-items-center">
     <div>
    <h6 class="card-title">Người Dùng</h6>
        <h3 class="mb-0">@Model.TotalUsers</h3>
     </div>
       <div>
  <i class="fas fa-users fa-3x opacity-50"></i>
   </div>
      </div>
       </div>
    <div class="card-footer">
     <a asp-page="/Admin/Users/Index" class="text-white text-decoration-none">
   Xem chi tiết <i class="fas fa-arrow-right"></i>
    </a>
   </div>
     </div>
        </div>

        <div class="col-md-3">
  <div class="card text-white bg-warning mb-3">
       <div class="card-body">
    <div class="d-flex justify-content-between align-items-center">
         <div>
 <h6 class="card-title">Danh Mục</h6>
       <h3 class="mb-0">@Model.TotalCategories</h3>
     </div>
         <div>
  <i class="fas fa-folder fa-3x opacity-50"></i>
     </div>
     </div>
        </div>
     <div class="card-footer">
      <a asp-page="/Admin/Categories/Index" class="text-white text-decoration-none">
        Xem chi tiết <i class="fas fa-arrow-right"></i>
    </a>
      </div>
  </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row mb-4">
        <div class="col-12">
   <div class="card">
           <div class="card-header">
    <h5 class="mb-0">Thao Tác Nhanh</h5>
       </div>
   <div class="card-body">
      <div class="row">
    <div class="col-md-3 mb-2">
     <a asp-page="/Admin/Questions/Create" class="btn btn-primary btn-block">
        <i class="fas fa-plus"></i> Thêm Câu Hỏi Mới
           </a>
        </div>
      <div class="col-md-3 mb-2">
       <a asp-page="/Admin/TrafficSigns/Create" class="btn btn-success btn-block">
     <i class="fas fa-plus"></i> Thêm Biển Báo
    </a>
  </div>
      <div class="col-md-3 mb-2">
    <a asp-page="/Admin/Categories/Create" class="btn btn-warning btn-block">
    <i class="fas fa-plus"></i> Thêm Danh Mục
    </a>
    </div>
  <div class="col-md-3 mb-2">
 <a asp-page="/Admin/LicenseTypes/Create" class="btn btn-info btn-block">
   <i class="fas fa-plus"></i> Thêm Loại Bằng
        </a>
      </div>
    </div>
     </div>
      </div>
        </div>
    </div>

    <!-- Recent Activities -->
    <div class="row">
   <div class="col-md-6">
    <div class="card">
        <div class="card-header">
    <h5 class="mb-0">Câu Hỏi Mới Nhất</h5>
       </div>
       <div class="card-body">
 <div class="list-group">
   @foreach (var question in Model.RecentQuestions)
         {
   <a asp-page="/Admin/Questions/Details" asp-route-id="@question.QuestionId"
     class="list-group-item list-group-item-action">
      <div class="d-flex w-100 justify-content-between">
         <h6 class="mb-1">Câu @question.QuestionNumber</h6>
        </div>
     <p class="mb-1 text-truncate">@question.QuestionText</p>
    <small>@question.CategoryName</small>
         </a>
  }
       </div>
       </div>
   </div>
  </div>

        <div class="col-md-6">
   <div class="card">
       <div class="card-header">
           <h5 class="mb-0">Thống Kê Theo Loại Bằng</h5>
        </div>
      <div class="card-body">
          <table class="table table-sm">
  <thead>
         <tr>
     <th>Loại Bằng</th>
       <th>Số Câu Hỏi</th>
  <th>Thời Gian</th>
        </tr>
         </thead>
  <tbody>
       @foreach (var license in Model.LicenseTypes)
    {
    <tr>
           <td>@license.LicenseCode - @license.LicenseName</td>
         <td>@license.TotalQuestions</td>
       <td>@license.TimeLimit phút</td>
      </tr>
 }
       </tbody>
       </table>
     </div>
      </div>
        </div>
    </div>
</div>
